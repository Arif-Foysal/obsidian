#software-architecture #software-engineering 

The event-driven architecture pattern is a popular **distributed** **asynchronous** architecture pattern used to produce highly scalable applications. It is also highly adaptable and can be used for small applications and as well as large, complex ones.

## Key Features
- Highly decoupled and scalable.
- Requires contracts (e.g., data formats) for communication.
	 Layers must agree on how data is structured and passed between them (e.g., JSON, XML, or specific database schemas). 

## Types of event-driven architectures

- **Mediator**:
  Central [[orchestration|orchestrator]] for high-complexity event processing.
  - **Mediator Topology Components:**
    1. **Event Queues** – Transport events from clients to the mediator.
    2. **Event Mediator** – Receives initial events and orchestrates the workflow.
    3. **Event Channels** – Carry asynchronous events for different processing steps.
    4. **Event Processors** – Listen on event channels and execute business logic.
  - **Event Flow:**
    1. A client sends an event to the **event queue**.
    2. The **event mediator** receives and orchestrates the event.
    3. The mediator sends **asynchronous events** to **event channels**.
    4. **Event processors** listen on channels, process events, and execute business logic.
  ![[Pasted image 20250207170714.png]]
  **Useful when:** 
  useful for events that have multiple steps and require some level of orchestration to process the event.
 **Types of Events**

- **Initial Event**: The original event received by the **event mediator**.
- **Processing Events**: Events generated by the **mediator** and sent to event processors.
#### **Role of the Event Mediator**

- **Orchestrates** the steps needed to process an **initial event**.
- Sends out **processing events** to event channels for execution.
- **Does not execute business logic** but manages the workflow.

#### **Event Channels**

- Used to pass **processing events** from the **event mediator** to **event processors** asynchronously.
- Can be **message queues** or **message topics**.
- **Message topics** allow multiple processors to handle events concurrently.

#### **Event Processors**

- Contain the **business logic** to process a **processing event**.
- Are **independent, self-contained, and highly decoupled**.
- Perform a **single business task** (e.g., calculating tax, updating an address).

#### **Implementing the Event Mediator**

- **Common tools**:
    - Open-source integration hubs (e.g., **Spring Integration, Apache Camel, Mule ESB**).
    - **BPEL (Business Process Execution Language)** + **BPEL engine** (e.g., Apache ODE) for complex workflows.
    - **BPM (Business Process Manager)** like **jBPM** for large applications involving human interaction.
- **Choosing the right tool is critical**:
    - Using **BPM for simple routing** = Overkill.
    - Using **basic integration hubs for complex workflows** = Risky.

#### **6. Example Use Case: Insurance Relocation Process**

- **Initial Event**: "Relocation Event" when a customer moves.
- **Event Mediator Steps**:
    1. Create processing events (e.g., **Change Address, Recalculate Quote, Update Claims**).
    2. Send processing events to the appropriate **event processors** (e.g., **Customer Process, Quote Process**).
    3. Execute steps **sequentially or concurrently**, as needed.



- **Broker**:
  Facilitates decentralized, chained event handling with minimal orchestration.

## Pattern Analysis

![[Screenshot 2025-01-08 at 9.54.08 AM.png]]






